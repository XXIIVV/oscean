<!DOCTYPE html><html><head>
<link href="../links/main.css" type="text/css" rel="stylesheet">
<link href="../media/services/icon.png" type="image/png" rel="shortcut icon">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property='og:type' content='website'/>
<meta property='og:site_name' content='XXIIVV'/>
<meta property='og:description' content="By Devine Lu Linvega"/>
<meta property='og:logo' content="https://wiki.xxiivv.com/media/services/rss.jpg"/>
<meta property="og:title" content="uxntal labyrinth"/><meta property="og:url" content="https://wiki.xxiivv.com/site/uxntal_labyrinth.html"/><meta property="og:image" content="https://wiki.xxiivv.com/media/services/rss.jpg"/><title>XXIIVV &mdash; uxntal labyrinth</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/xxiivv_cursive.png" width="200"></a></header>
<nav><ul><li><a href="uxntal_bootstrap.html">uxntal bootstrap</a></li><li><a href="uxntal_library.html" class="parent">uxntal library</a></li><li><a href="uxnfor.html">uxnfor</a></li><li><a href="uxnbal.html">uxnbal</a></li><li><a href="uxnlin.html">uxnlin</a></li><li><a href="bicycle.html">bicycle</a></li><li><a href="beetbug.html">beetbug</a></li></ul><ul><li><a href="uxntal_labyrinth.html" class="self">uxntal labyrinth</a></li></ul><ul></ul></nav>
<main><h2>I have reordered time. I have turned the world upside down, and I have done
it all for you!</h2>

<p>This <b>self-replicating program</b> will emit its own bytecode when run:</p>

<!-- a001 0fa0 0100 9480 1817 21aa 20ff f7 -->

<div class="codeview">
<pre class='src'>
@q ( -> )
	;&end ;q &l LDAk #18 DEO INC2 GTH2k ?&l &end
</pre>
<pre class='cmd'>uxnasm src.tal seed.rom && uxncli seed.rom > res.rom</pre>
</div>

<p>This <b>cyclical self-replicating program</b> will emit a program that prints <i>ying</i> and which emits a program like itself that will print <i>yang</i>, which in turn will emit a program that prints <i>ying</i> again, and so forth: </p>

<div class="codeview">
<pre class='src'>
@y ( -> )
	[ LIT2 "y 19 ] DEO [ LIT2 &c "ai ] SWPk ,&c STR2 #19 DEO 
	[ LIT2 "n 19 ] DEO [ LIT2 "g 19 ] DEO 
	;&end ;y &w LDAk #18 DEO INC2 GTH2k ?&w &end
</pre>
<pre class='cmd'>uxnasm yingyang.tal ying.rom && uxncli ying.rom > yang.rom</pre>
</div>

<p>This <b>quine program</b> will emit a second program that emits its own bytecode as
hexadecimal ascii characters, which is also a valid program source:</p>

<!--
@q ( -> )
	;end ;q
	&l LDA2k phex #2018 DEO INC2 INC2 GTH2k ?&l
	BRK
@phex ( short* -- )
	SWP phex/b
	&b DUP #04 SFT phex/c
	&c #0f AND DUP #09 GTH #27 MUL ADD [ LIT "0 ] ADD #18 DEO
	JMP2r
@end
-->

<div class="codeview">
<pre class='src'>
a001 32a0 0100 b460 000b a020 1817 2121 
aa20 fff2 0004 6000 0006 8004 1f60 0000 
800f 1c06 8009 0a80 271a 1880 3018 8018 
176c
</pre>
<pre class='cmd'>uxnasm src.tal seed.rom && uxncli seed.rom > src.tal</pre>
</div>

<p>This <b>ambigram program</b> executes the same backward or forward, every single opcode is evaluated, and prints the palindrome "tenet". It is my entry to  <a href='https://binary.golf/1/' target='_blank'>BGGP1</a>:</p>

<!--
DEO POP [ LIT2 18 LIT2 ] POP [ LIT2 "t LIT2 ] POP SWP DEO
DEO POP [ LIT2 18 LIT2 ] POP [ LIT2 "e LIT2 ] POP SWP DEO
DEO POP [ LIT2 18 LIT2 ] POP [ LIT2 "n LIT2 ] POP [ LIT2 18 LIT2 ] POP DEO
DEO SWP POP [ LIT2 "e LIT2 ] POP [ LIT2 18 LIT2 ] POP DEO
DEO SWP POP [ LIT2 "t LIT2 ] POP [ LIT2 18 LIT2 ] POP DEO
-->

<div class="codeview">
<pre class='src'>
1702 a018 a002 a074 a002 0417 1702 a018
a002 a065 a002 0417 1702 a018 a002 a06e
a002 a018 a002 1717 0402 a065 a002 a018
a002 1717 0402 a074 a002 a018 a002 17
</pre>
<pre class='cmd'>uxnasm src.tal turnstile.rom && uxncli turnstile.rom</pre>
</div>

<p>This <b>self-replicating program</b> produces exactly 1 copy of itself, names the copy "4", does not execute the copied file, and prints the number 4. It is my 19 bytes entry to  <a href='https://binary.golf/4/' target='_blank'>BGGP4</a>:</p>

<div class="codeview">
<pre class='src'>
|a0 @File &vector $2 &success $2 &stat $2 &delete $1 &append $1 &name $2 &length $2 &read $2 &write $2
|100
	[ LIT2 13 -File/length ] DEO2
	INC [ LIT2 -&filename -File/name ] DEO2
	INC SWP .File/write DEO2
	[ LIT2 "4 18 ] DEO
	&filename "4
</pre>
<pre class='cmd'>uxnasm src.tal seed.rom && uxncli seed.rom</pre>
</div>

<img src='../media/refs/the_all_is_one.png' width='120'/>

<p>This <b>polyglot program</b> is both a valid tga image, and a valid rom that will print that same image. It is my entry to  <a href='https://binary.golf/2/' target='_blank'>BGGP2</a></p>

<div class="codeview">
<pre class='src'>
|20 @Screen &vector $2 &width $2 &height $2 &auto $1 &pad $1 &x $2 &y $2 &addr $2 &pixel $1 &sprite $1
|100
@length [ 40 ] @header [ 01 01 ]
@color-map [ 0000 3000 20 ] [ 0000 1000 1000 1000 0820 ]
@description $40
@color-map-data [ 0000 00ff ffff ffff $aa !program $b ]
@body [
0101 0101 0101 0100 0001 0101 0101 0101
0101 0101 0101 0000 0000 0101 0101 0101
0101 0101 0100 0000 0000 0001 0101 0101
0101 0101 0100 0101 0101 0001 0101 0101
0101 0101 0100 0101 0101 0001 0101 0101
0101 0101 0100 0001 0100 0001 0101 0101
0101 0101 0101 0001 0100 0101 0101 0101
0101 0101 0000 0101 0101 0000 0101 0101
0101 0100 0101 0101 0101 0101 0001 0101
0101 0100 0100 0101 0101 0101 0001 0101
0101 0100 0100 0101 0101 0001 0001 0101
0101 0100 0101 0001 0101 0001 0001 0101 
0101 0101 0001 0001 0100 0100 0101 0101 
0101 0100 0100 0001 0100 0001 0001 0101 
0101 0001 0101 0101 0101 0101 0100 0101 
0101 0000 0000 0000 0000 0000 0000 0101 ]

@program ( -> )
	( print 2 ) [ LIT2 "2 18 DEO ]
	( | draw tga )
	#0010 DUP2 .Screen/width DEO2
	.Screen/height DEO2
	#0f08 DEOk INC INC DEOk INC INC DEO
	#0000
	&>l ( -- )
		DUP2 #0f AND .Screen/x DEO2
		DUP2 #04 SFT .Screen/y DEO2
		DUP2 ;body ADD2 LDA .Screen/pixel DEO
		INC DUP ?&>l
	POP2
</pre>
<pre class='cmd'>uxnasm src.tal mothra.tga && gimp mothra.tga</pre>
</div>

<img src='../media/refs/mothra.png' alt='mothra' width='16'/>

<p>This <b>maze program</b> ensnares one into the iconic Commodore 64 demo:</p>

<div class="codeview">
<pre class='src'>
( seed ) #c5 DEI2 ,&seed STR2
[ LIT2 "/\ ] #f800
&>w ( -- )
	( break ) DUP #3f AND ?{ #0a18 DEO }
	( seed ) OVR2 [ LIT2 &seed &x $1 &y $1 ]
	( randx ) ADDk #50 SFT EOR DUP #03 SFT EOR DUP ,&x STR
	( randy ) SUBk #01 SFT EOR EOR DUP ,&y STR
	( emit ) #01 AND [ LIT POP ] ADD [ #00 STR $1 ] #18 DEO
	INC2 ORAk ?&>w
POP2 POP2
</pre>
<pre class='cmd'>uxnasm src.tal res.rom && uxncli res.rom</pre>
</div>

<q style='font-size:28px'>DUP EOR ORA</q>

<p>This program unlocks the scorching power to create <a
href='https://en.wikipedia.org/wiki/COMEFROM' target='_blank'>COMEFROM</a>
statements at runtime and prints exclamation marks in an infinite loop:</p>

<div class="codeview">
<pre class='src'>
( 10 ) ;&label COMEFROM 
( 20 ) [ LIT2 "! 18 ] DEO 
( 30 ) &label $4 
( 40 ) BRK

@COMEFROM ( label* -- )
    ( LIT2 ) STH2k [ LIT LIT2 ] STH2kr STA
    ( JMP2 ) INC2r INC2r INC2r [ LIT JMP2 ] STH2r STA
    ( addr* ) STH2kr SWP2 INC2 STA2
    JMP2r
</pre>
<pre class='cmd'>uxnasm src.tal res.rom && uxncli res.rom</pre>
</div>

<p id='bf'>This program compiles caret-prefixed <a
href='https://en.wikipedia.org/wiki/Brainfuck' target='_blank'>Brainfuck</a>
directly into uxntal using nothing but macros:</p>

<div class="codeview">
<pre class='src'>
%>  ( m* -- m* ) { INC2 }
%<  ( m* -- m* ) { #0001 SUB2 }
%^+ ( m* -- m* ) { STH2k LDAk INC STH2r STA }
%^- ( m* -- m* ) { STH2k LDAk #01 SUB STH2r STA }
%^. ( m* -- m* ) { LDAk #18 DEO }
%^[ ( m* -- m* ) { #00 JSR LDAk #00 EQU ?{ }
%^] ( m* -- m* ) { LDAk #00 EQU ?{ JMP2kr }\ }\ }

@on-reset ( -> ) ;memory ^+ ^+ ^+ ^[ ^. ^- ^] ^. BRK
@memory
</pre>
<pre class='cmd'>uxnasm bf.tal res.rom && uxncli res.rom</pre>
</div>

<q style='font-size:28px'>LITr 00 JSRr</q>

<img src='../media/refs/bruno.png' alt="A young girl looks at a boy swinging from a vine. Illustration by Harry Furniss in Caroll's Sylvie and Bruno"/>

<h3 id='factorial'>Many Factorials in Uxntal</h3>

<p>Inspired by Marvin Borner's <a href='https://text.marvinborner.de/2025-10-08-12.html' target='_blank'>Many Factorials in Bruijn</a>. </p>

<pre>
<b>@fac-classic</b> <i>( n -- res )</i>
	DUP ?{ INC JMP2r }
	DUP #01 SUB fac-classic MUL JMP2r

<b>@fac-keep</b> <i>( n -- res )</i>
	#01 GTHk ?{ NIP JMP2r }
	OVR SWP SUB fac-keep MUL JMP2r

<b>@fac-tail</b> <i>( n -- res )</i>
	#01 <b>&rec</b> <i>( n acc -- res )</i>
		OVR ?{ NIP JMP2r }
		OVR MUL #0100 SUB2 !&rec
	
<b>@fac-algol</b> <i>( n -- res )</i>
	#00 STZ
	#00 LDZ #00 EQU ?{
		#00 LDZ 
		#00 LDZ #01 SUB fac-algol
			MUL JMP2r }
	#01 JMP2r
		
<b>@fac-bitwise</b> <i>( n -- res )</i>
	DUP ?{ #01 !/add }
	DUP #ff /add fac-bitwise
	<b>&mul</b> <i>( x y -- res )</i>
		DUP ?{ NIP JMP2r }
		#ff /add OVR /mul
	<b>&add</b> <i>( x y -- res )</i>
		DUP ?{ POP JMP2r }
		ANDk #10 SFT STH EOR STHr !/add

<b>%fac-obfuscate</b> <i>( n -- res )</i> {
	8001 0780 0008 2000 0907
	1aa0 0100 3940 fff0 0300 }
</pre>

<ul>
	<li><a href='https://susam.net/self-printing-machine-code.html' target='_blank'>Self-Printing Machine Code</a></li>
</ul>
<ul></ul><p><b>incoming: </b><a href="uxntal_devlog.html">uxntal devlog</a> <a href="2025.html">2025</a> <a href="2024.html">2024</a> </p></main>
<footer>
	<a href="uxn.html"><img src="../media/icon/uxn.png" alt="Uxn Powered"/></a> 
	<a href="ethics.html"><img src="../media/icon/3arrows.png" alt="NoNazis!"/></a>
	<a href="devine_lu_linvega.html">Devine Lu Linvega</a> <span> &bull; 2008-2025</span>
	<div class="right"><a href="about.html#license">BY-NC-SA 4.0</a>
		<a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.png" alt="CreativeCommons"/></a>
		<a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/rotonde.png" alt="Webring"/></a>
		<a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.png" alt="Merveilles"/></a>
	</div>
	<hr/>
</footer>
</body></html>