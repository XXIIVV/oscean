<!DOCTYPE html><html><head>
<link href="../links/main.css" type="text/css" rel="stylesheet">
<link href="../media/services/icon.png" type="image/png" rel="shortcut icon">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property='og:type' content='website'/>
<meta property='og:site_name' content='XXIIVV'/>
<meta property='og:description' content="By Devine Lu Linvega"/>
<meta property='og:logo' content="https://wiki.xxiivv.com/media/services/rss.jpg"/>
<meta property="og:title" content="uxntal notation"/><meta property="og:url" content="https://wiki.xxiivv.com/site/uxntal_notation.html"/><meta property="og:image" content="https://wiki.xxiivv.com/media/services/rss.jpg"/><title>XXIIVV &mdash; uxntal notation</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"></a></header>
<nav><ul><li><a href="uxntal.html" class="parent">uxntal</a></li><li><a href="varvara.html">varvara</a></li><li><a href="porporo.html">porporo</a></li></ul><ul><li><a href="uxntal_stacks.html">uxntal stacks</a></li><li><a href="uxntal_notation.html" class="self">uxntal notation</a></li><li><a href="uxntal_numbers.html">uxntal numbers</a></li><li><a href="uxntal_strings.html">uxntal strings</a></li><li><a href="uxntal_opcodes.html">uxntal opcodes</a></li><li><a href="uxntal_labels.html">uxntal labels</a></li><li><a href="uxntal_macros.html">uxntal macros</a></li><li><a href="uxntal_memory.html">uxntal memory</a></li><li><a href="uxntal_devices.html">uxntal devices</a></li><li><a href="uxntal_software.html">uxntal software</a></li></ul><ul></ul></nav>
<main><h2>Uxntal Notation</h2>

<p>The stack-effect notation follows that of the <a href='forth.html'>Forth</a>
programming language, where each item on the left of the <kbd>--</kbd> spacer
is the state of the stack before, and to the right, the state of the stack
after. On each side, the right-most item is the last to the pushed and the
first to be removed:</p>

<pre>
<b>@routine</b> <i>( a b -- a b res )</i>
	ADDk JMP2r
</pre>

<p>Single items are a byte long, and shorts are indicated with a
<kbd>*</kbd> suffix, the order in which they appear is the order of the stack
with the top item to the right:</p>

<pre>
<b>@routine</b> <i>( a b* -- b* a )</i>
	ROT JMP2r
</pre>

<p>The dot notation is used to indicate that stack-effects to the right of the
dot are happening on the <a href='uxntal_stacks.html'>return stack</a>:</p>

<pre>
<b>@routine</b> <i>( a . b -- c )</i>
	STHr ADD JMP2r
</pre>

<p>If a routine is a <a href='uxntal_devices.html'>vector</a>, it uses the arrow
notation.</p>

<pre>
<b>@on-event</b> <i>( -> )</i>
	BRK
</pre>

<p>This notation also holds for <a href='uxntal_macros.html'>macros</a> as well,
the notation goes before the macro's body:</p>

<pre>
<b>%macro</b> <i>( a b -- res )</i> {
	DIVk MUL SUB }</pre>
	
<p>The stack notation is merely present to help readability but can be altogether disregarded without impacting the program.</p>

<h3 id='comments'>Comments</h3>

<p>A comment starts with any token beginning with opened parenthesis,
 and ends at its corresponding closed parenthesis. Comments may be nested,
the enclosed comments parentheses must be whitespace separated on both sides.</p>

<pre>
<i>( ( nested ) )</i>
<i>( 1+2*(4/3) )</i></pre>

<p>Outermost comments may be <i>named</i>, which means that sometimes the open 
parenthesis is immediately followed by a word holding some meaning
to external tools.</p>

<pre>
<i>(doc
	This is a docstring. )</i></pre>

<p>Special comments are sometimes used to group routines together, they are 
similar to the <code>pragma mark</code> notation:</p>

<pre>
<i>(
@|Group )</i></pre>

<h3 id='brackets'>Brackets</h3>

<p>The square brackets do nothing, they are used as an aid for readability and <a
href='uxnfor.html'>formatting</a>, they are useful for making explicit certain
things like grouping behaviors, joining literals or indicating lookup tables.</p>

<pre>
<b>@routine</b> <i>( -- )</i>
	[ LIT2 20 -Console/write ] DEO JMP2r

<b>%min</b> <i>( a b -- r )</i> {
	GTHk [ JMP SWP ] POP }

<b>@sprite</b> [ 00 66 ff ff ff 7e 3c 18 ]
</pre>
<ul></ul><p><b>incoming: </b><a href="drifblim.html">drifblim</a> <a href="uxntal.html" class="parent">uxntal</a> <a href="uxntal_reference.html">uxntal reference</a> <a href="uxnfor.html">uxnfor</a> <a href="2025.html">2025</a> <a href="2023.html">2023</a> </p></main>
<footer>
	<a href="uxn.html"><img src="../media/icon/uxn.png" alt="Uxn Powered"/></a> 
	<a href="ethics.html"><img src="../media/icon/3arrows.png" alt="NoNazis!"/></a>
	<a href="devine_lu_linvega.html">Devine Lu Linvega</a> <span> &bull; 2008-2025</span>
	<div class="right"><a href="about.html#license">BY-NC-SA 4.0</a>
		<a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.png" alt="CreativeCommons"/></a>
		<a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/rotonde.png" alt="Webring"/></a>
		<a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.png" alt="Merveilles"/></a>
	</div>
	<hr/>
</footer>
</body></html>